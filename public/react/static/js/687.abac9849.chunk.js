"use strict";(self.webpackChunklaravel_task=self.webpackChunklaravel_task||[]).push([[687],{687:(e,t,s)=>{s.r(t),s.d(t,{Home:()=>m,default:()=>g});var a=s(43),l=s(216);var r=s(579);const c=e=>{let{id:t,status:s,title:a,date:c}=e;const n=(0,l.Zp)();return(0,r.jsxs)("div",{className:"card p-24",id:`card-${t}`,onClick:()=>{n(`/card-details/${t}`)},children:[(0,r.jsx)("span",{className:"status-heading",children:s}),(0,r.jsxs)("h5",{className:"heading-title",children:[(0,r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAbCAYAAACX6BTbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHZSURBVHgBtZbNTttAEMf/s17HApUTt6i9kgMgVU0v7aU8gaUgpekBeIee22epVBpVJRIfog9RqR9cQEjuqYeKnHKKlJA4nmHXfIiYOCGO87t4d8f+jT0eeU0YQaWys1woYBkp9Hr9/tHRt3+YAA1Lt9dcl8oi7E260PPwvV6vN2u1nZUw5CcHB/WT5DnqdlCtbr/RWl4/RnyfKOKi4+Dl5ubWi5Fymx2QEmZgVIJYbu62jBxIJlC+/64ogiXkhE1QqdRWYrlSKCADYRguXcvURTKmtbthEyjPK2SSR5GO725vb/evmZ0m40q5ZbIvk5k3kIEowu/7Lej7/l15zZP1Z5LfpAgGA/fs8HC3lYxozIxT0ppL1eoWppML3hLh6Yj1hhD+YwJj5Ub8yhwWH67LMwHNKBf6IAoLyXUWtPAIxsqZpGNK0EFGFObIXOVjyyIiiwpqIS3O4C4RdTLJCfTRvNXUHUmZM1jkfVqCsXJFCExnpH7nTau27JMJZHo5A5+HN8JhJM4gqfH5dku3q5uYE+r4+FPb1g45w4x2XJbLy8EP5Axz+MexgyA4a6+urpkRFZELFOzvfz1xbqfn56fN9fXnbdMDtq+n+ne5U5LqmT35Z6Px5ZedXwHT5aVsWPMLFgAAAABJRU5ErkJggg==",alt:"Card Icon"})," ",a]}),(0,r.jsx)("span",{className:"date-data",children:c})]})},n=e=>{let{taskData:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"col-12 card-wrapper",children:t.map((e=>(0,r.jsx)(c,{id:e.id,status:e.status,title:e.title,date:e.due_date},e.id)))})})};var o=s(51),i=s(978),d=s(475);s(52);const A=e=>{let{taskData:t,getTasks:s}=e;const[l,c]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[i,d]=(0,a.useState)(!1),[A,u]=(0,a.useState)(null);(0,a.useEffect)((()=>{d(!0);try{s(n,l)}catch(A){u(A.message)}finally{d(!1)}}),[l,n]);const h=[...new Set(t.map((e=>e.due_date)))],m=[...new Set(t.map((e=>e.status)))];return i?(0,r.jsx)("p",{children:"Loading..."}):A?(0,r.jsxs)("p",{children:["Error: ",A]}):(0,r.jsxs)("form",{className:"filter-form",children:[(0,r.jsx)("h6",{children:"Filter By"}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{htmlFor:"filter-with-date",className:"select-label",children:"Due Date"}),(0,r.jsxs)("select",{className:"form-select","aria-label":"date select",id:"filter-with-date",value:l,onChange:e=>{c(e.target.value)},children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Date"}),h.map(((e,t)=>(0,r.jsx)("option",{value:e,children:e},t)))]})]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{htmlFor:"filter-with-status",className:"select-label",children:"Status"}),(0,r.jsxs)("select",{className:"form-select","aria-label":"status select",id:"filter-with-status",value:n,onChange:e=>{o(e.target.value)},children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Status"}),m.map(((e,t)=>(0,r.jsx)("option",{value:e,children:e},t)))]})]})]})},u=e=>{let{taskData:t,getTasks:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"row top-header",children:[(0,r.jsx)("div",{className:"col-12 col-md-2",children:(0,r.jsxs)("button",{className:"btn-list btn",children:[(0,r.jsx)("img",{src:i,alt:"List Icon"})," List"]})}),(0,r.jsx)("div",{className:"col-12 col-md-10",children:(0,r.jsxs)("div",{className:"row ",children:[(0,r.jsx)("div",{className:"col-12 col-md-8 col-lg-9 order-2 order-md-1",children:(0,r.jsx)(A,{taskData:t,getTasks:s})}),(0,r.jsx)("div",{className:"col-12 col-md-4 col-lg-3 d-flex justify-content-md-end order-1 order-md-2 my-4 my-md-0",children:(0,r.jsxs)(d.k2,{to:"/create-task",className:"btn-create-task d-inline-flex",children:["Create Task ",(0,r.jsx)(o.pi5,{})]})})]})})]})})};var h=s(850);const m=()=>{const[e,t]=(0,a.useState)([]);(0,a.useEffect)((()=>{s()}),[]);const s=async(e,s)=>{try{const a=await(0,h.I)("tasks.index");if(!a||!a.url)throw new Error("Route could not be found");const l=e||s?"?":"",r=e?`status=${e}`:"",c=s?`due_date_from=${s}&due_date_to=${s}`:"",n=e&&s?"&":"";console.log(`status: ${r}, due_date: ${c}, `);const o=`${a.url}${l}${r}${n}${c}`,i=await fetch(o,{method:a.methods[0]});if(!i.ok)throw new Error("Cannot fetch tasks");const d=await i.json();t(d.data)}catch(a){console.error("Error fetching tasks: ",a)}};return(0,r.jsx)("main",{className:"content-wrapper",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(u,{taskData:e,getTasks:s}),(0,r.jsx)(n,{taskData:e})]})})},g=m},850:(e,t,s)=>{s.d(t,{I:()=>a});const a=async e=>(await(async()=>{if(localStorage.getItem("routeMap"))return;try{const e=await fetch("http://localhost:85/api/route-map");if(!e.ok)throw new Error(`Failed to fetch route map: ${e.status}`);const t=await e.json(),s={};t.forEach((e=>{const[t,a]=Object.entries(e)[0];t&&(s[t]=a)})),console.log(s),localStorage.setItem("routeMap",JSON.stringify(s)),localStorage.setItem("routeMapTimestamp",Date.now().toString())}catch(e){console.error("Error loading route map:",e)}})(),l(e)),l=e=>{try{const t="http://localhost:85";if(!t)throw new Error("REACT_APP_API_BASE_URL is not defined");const s=localStorage.getItem("routeMap");if(!s)return null;const a=JSON.parse(s)[e];return a.url=`${t}/${a.url}`,a||null}catch(t){return console.error(`Error accessing routeMap for "${e}":`,t),null}}},52:()=>{},978:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM6SURBVHgB7ZjNbxJBGMbfd2YBE9uGpF7spfSmra1Ve/Ek3jwRQGhoRdSbNz16K0c9qf+AIsWmLR9toicv4sXERI00ltiTeLExsckmNY0FdseZWhL2g48tCAf3lwA778zuPJmdeWceAGxsbHoKNqrw+/1uSRq4wxt4EdEjYoyxEjKWWM0+fwZ9wlRwJBLxqAp9zas95rexUlVh3lxu6Rv0GIPg1mJrsFK54ji3vp6QoYdI+gBT6EJrsQL0OGjlIb+41axVMBg9Sak6AhZRFPI9l0ttG3qtL/wdXekrtAljIFeq0lijUQ4E5i5KEp2EI6Io8J6L/lgfI9oGjlGwACK4HY6yx6wuFosNdyJWQCnM+Hy+wfqYRjAFGAOLUEbcZnFZLrugCwwNDQ3Ul7UjDMonsIiCqul0cLmUn4hkHzpAVWE3ldLOY43gdHpJCLaw6rF0eI+BdDpdrlTgJZ82O3AEeO7fVlXySh83ZgkgcQT1EbSDivFm1WtrSSE2C12E6gPFYuHdxPiUyB/epncyiK9mFx9Dj6Fmwc3ixpvxiWmZ57xTvKhbVCgzgHvpTOoB9AFs1SASinoZkrMHjZlaWM6k8mBjY2Nj0y1a5uFgcH6UUuoR14qilPphi+ppKDgcvn6Jn9DjqNui+aE9TyjcXVlJFaAPmG7NoVB0gSAkuFiPvu4gxuD2aX7eKPItHHqMYYRnZ6/dAIYJaAMG6E2nF3sqWjJREYd24VOGf19uVB0Oh528iwuMkWGwCKK6C1D9wM/Vv+rjkraD+en2HHPtoeAVi7LRQkR0XeVzfhBbLm0zqHAcJ0B3ntY4DsIkSyZU4CTE1Af6fJERIRY6gBA6HAjENG+HwD/C7XZ25OdqHD+uOuvLGsEoEcup6ndVMvV0yWRyh7/SI/m5Gqqq7OhNqGYOLy8nSuFQNI+t7NEhTMVEs7+qCNl/wRid4d04wSJi0e3tyZ/1cUOWEJsCUyEPBmtkeKSsMGe8WQvhnPnPW+giho1jc3Pjx5nx6S/cD13hxWPmt6GMxOHNZJ5sQY9pYEILW5NT51d4nuWjjGKkD0cbZZ6n75er0lw2+7SvZ4qm+P033eIDNjY2/x9/ACd8GNJTnbeBAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=687.abac9849.chunk.js.map